# N8N-R8 Monitoring Configuration
# This file contains configuration settings for the monitoring system

# ===========================================
# Basic Monitoring Settings
# ===========================================

# Check interval in seconds (default: 30)
CHECK_INTERVAL=30

# Disk usage threshold percentage (default: 85)
DISK_THRESHOLD=85

# Memory usage threshold percentage (default: 90)
MEMORY_THRESHOLD=90

# Log retention in days (default: 7)
LOG_RETENTION_DAYS=7

# Alert cooldown in seconds to prevent spam (default: 300 = 5 minutes)
ALERT_COOLDOWN=300

# Enable debug logging (true/false)
DEBUG=false

# ===========================================
# Email Alert Configuration
# ===========================================

# Enable email alerts (true/false)
ENABLE_EMAIL_ALERTS=false

# Email recipient (required if email alerts enabled)
EMAIL_TO=""

# Email sender address
EMAIL_FROM="n8n-monitor@localhost"

# SMTP server (for sendmail configuration)
SMTP_SERVER="localhost"

# ===========================================
# Service-Specific Settings
# ===========================================

# N8N health check timeout in seconds
N8N_HEALTH_TIMEOUT=10

# PostgreSQL connection timeout in seconds
POSTGRES_TIMEOUT=5

# Redis connection timeout in seconds
REDIS_TIMEOUT=3

# ===========================================
# Advanced Settings
# ===========================================

# Maximum log file size in bytes (10MB default)
MAX_LOG_SIZE=10485760

# Number of rotated log files to keep
LOG_ROTATE_COUNT=5

# Enable container resource monitoring
MONITOR_CONTAINER_RESOURCES=true

# Enable network connectivity checks
MONITOR_NETWORK=true

# Custom health check URLs (space-separated)
CUSTOM_HEALTH_URLS=""

# ===========================================
# Notification Settings
# ===========================================

# Slack webhook URL (optional)
SLACK_WEBHOOK_URL=""

# Discord webhook URL (optional)
DISCORD_WEBHOOK_URL=""

# PagerDuty integration key (optional)
PAGERDUTY_INTEGRATION_KEY=""

# ===========================================
# External Monitoring Integration
# ===========================================

# Prometheus metrics endpoint port (0 to disable)
PROMETHEUS_PORT=0

# InfluxDB settings (optional)
INFLUXDB_URL=""
INFLUXDB_DATABASE="n8n_monitoring"
INFLUXDB_USERNAME=""
INFLUXDB_PASSWORD=""

# Grafana dashboard settings
GRAFANA_URL=""
GRAFANA_API_KEY=""

# ===========================================
# Security Settings
# ===========================================

# Enable monitoring API (true/false)
ENABLE_MONITORING_API=false

# Monitoring API port
MONITORING_API_PORT=9090

# API authentication token (generate a secure token)
API_AUTH_TOKEN=""

# ===========================================
# Backup Monitoring
# ===========================================

# Monitor backup directory size
MONITOR_BACKUP_SIZE=true

# Alert if no backup created in X hours
BACKUP_ALERT_HOURS=24

# Maximum backup directory size in GB
MAX_BACKUP_SIZE_GB=10
