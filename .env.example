# ===========================================
# N8N-R8 Environment Configuration Example
# ===========================================
# Copy this file to .env and update the values for your environment
# cp .env.example .env

# ===========================================
# N8N Configuration
# ===========================================

# Basic Authentication
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=changeme123!

# Host and Protocol Configuration
N8N_HOST=localhost
N8N_PROTOCOL=http
N8N_PORT=5678
WEBHOOK_URL=http://localhost:5678/

# Security (IMPORTANT: Generate secure keys for production)
N8N_ENCRYPTION_KEY=generate-32-character-key-here
N8N_JWT_SECRET=generate-jwt-secret-here
N8N_SECURE_COOKIE=false
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true

# License Configuration (Optional - for N8N Cloud/Enterprise)
N8N_LICENSE_ACTIVATION_KEY=your-license-key-here
# N8N_LICENSE_SERVER_URL=https://license.n8n.io/v1
# N8N_LICENSE_TENANT_ID=your-tenant-id-here

# Logging
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# Timezone
TIMEZONE=UTC

# Performance and Scaling
# N8N_BLOCK_ENV_ACCESS_IN_NODE=false
# OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS=true
# EXECUTIONS_TIMEOUT=3600
# EXECUTIONS_TIMEOUT_MAX=7200

# ===========================================
# PostgreSQL Configuration
# ===========================================
POSTGRES_DB=n8n
POSTGRES_USER=n8n
POSTGRES_PASSWORD=change-this-secure-password

# ===========================================
# Redis Configuration
# ===========================================
REDIS_PASSWORD=change-this-secure-password
REDIS_DB=0

# ===========================================
# Proxy Configuration (Nginx/Traefik)
# ===========================================

# For Nginx Proxy
NGINX_HOST=localhost
NGINX_PORT=80
NGINX_SSL_PORT=443

# For Traefik Proxy
TRAEFIK_HOST=localhost
TRAEFIK_DASHBOARD_HOST=traefik.localhost
TRAEFIK_API_DASHBOARD=true
TRAEFIK_API_INSECURE=true

# SSL Configuration (for production with real domain)
SSL_EMAIL=admin@yourdomain.com
ACME_CA_SERVER=https://acme-v02.api.letsencrypt.org/directory
# For testing: https://acme-staging-v02.api.letsencrypt.org/directory

# ===========================================
# Backup Configuration
# ===========================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# ===========================================
# Development/Production Settings
# ===========================================
NODE_ENV=production
COMPOSE_PROJECT_NAME=n8n-r8

# ===========================================
# Email Configuration (Optional)
# ===========================================
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=587
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com
# N8N_SMTP_SSL=true

# ===========================================
# Webhook and External Access
# ===========================================
# For production with real domain:
# N8N_HOST=your-domain.com
# N8N_PROTOCOL=https
# WEBHOOK_URL=https://your-domain.com/
# N8N_SECURE_COOKIE=true

# ===========================================
# Custom Nodes Configuration
# ===========================================
# Custom nodes are automatically detected if nodes/ directory exists
# No additional configuration needed

# ===========================================
# Monitoring Configuration (Optional)
# ===========================================
# PROMETHEUS_ENABLED=true
# GRAFANA_ADMIN_PASSWORD=secure-grafana-password
# ALERTMANAGER_WEBHOOK_URL=your-webhook-url

# ===========================================
# Advanced N8N Settings (Optional)
# ===========================================
# N8N_METRICS=true
# N8N_DIAGNOSTICS_ENABLED=true
# N8N_VERSION_NOTIFICATIONS_ENABLED=true
# N8N_TEMPLATES_ENABLED=true
# N8N_ONBOARDING_FLOW_DISABLED=false
# N8N_PERSONALIZATION_ENABLED=true

# ===========================================
# Google AI Studio Configuration
# ===========================================
GOOGLE_AI_STUDIO_KEY=your_google_ai_studio_key_here
REVIEW_EMAIL=your_email@gmail.com
N8N_BASE_URL=http://localhost:5678

# ===========================================
# Security Headers (Optional)
# ===========================================
# N8N_ADDITIONAL_ALLOWED_ORIGINS=https://yourdomain.com
# N8N_CORS_ORIGIN=https://yourdomain.com

# ===========================================
# Queue Configuration (Advanced)
# ===========================================
# QUEUE_BULL_REDIS_HOST=redis
# QUEUE_BULL_REDIS_PORT=6379
# QUEUE_BULL_REDIS_DB=0
# QUEUE_BULL_REDIS_PASSWORD=your-redis-password
# QUEUE_HEALTH_CHECK_ACTIVE=true

# ===========================================
# External Storage (Optional)
# ===========================================
# N8N_DEFAULT_BINARY_DATA_MODE=filesystem
# N8N_BINARY_DATA_TTL=1440
# N8N_BINARY_DATA_STORAGE_PATH=/tmp/n8n-binary-data

# ===========================================
# Workflow Settings (Optional)
# ===========================================
# WORKFLOWS_DEFAULT_NAME=My Workflow
# N8N_DEFAULT_LOCALE=en
# N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION=workflowsFromSameOwner

# ===========================================
# Notes for Production Deployment
# ===========================================
# 1. Generate secure passwords and keys
# 2. Set N8N_HOST to your actual domain
# 3. Use HTTPS in production (N8N_PROTOCOL=https)
# 4. Enable SSL certificates with Let's Encrypt
# 5. Set appropriate CORS origins
# 6. Configure email for notifications
# 7. Set up proper backup schedule
# 8. Configure monitoring and alerting
# 9. Review security settings
# 10. Test all configurations before going live
